# Objective

Create a new PR for experimental run-make test.

# Logs

## Sync to the most recent upstream rust

```
sekineh@sekineh-VirtualBox:~$ git clone http://github.com/sekineh/rust rustme9
sekineh@sekineh-VirtualBox:~$ cd rustme9
sekineh@sekineh-VirtualBox:~/rustme9$ git remote add upstream https://github.com/rust-lang/rust

git fetch upstream
git merge upstream/master
git push
```

Confirmed my repo is updated 
```
sekineh@sekineh-VirtualBox:~/rustme9$ git show HEAD | head -1
commit 7c98d2e63f732682b057c8c453b08f9e12b262e6
```

## Create my branch

```
sekineh@sekineh-VirtualBox:~/rustme9$ git checkout -b thumb-cortex-m
```

## Implement!

Copy Makefile into the appropriate place and run with `-vv`:

```
sekineh@sekineh-VirtualBox:~/rustme9$ ./x.py test --target thumbv7m-none-eabi src/test/run-make -vv 2>&1 | tee run-make-9.log 
```

- [log for d71cc75b7c3b24b9fe942818d3a368b93fc4b189](run-make-9-1.log)
- [add -vv to cargo build](run-make-9-2.log)

## Get reference log

The current `beta` is known to work fine :-)
```
sekineh@sekineh-VirtualBox:/tmp/safe_place/cortex-m$ rustc --version
rustc 1.28.0-beta.17 (922c0e0cc 2018-07-26)

sekineh@sekineh-VirtualBox:/tmp/safe_place/cortex-m$ cargo build --target thumbv7m-none-eabi -vv 2>&1 | tee ~/irr-embedded-2018/sekineh/cargo-beta-vv-9-2.log
```

- [same -vv with working beta (reference)](cargo-beta-vv-9-2.log)
